require_relative './config/environment'
require 'sinatra/activerecord/rake'
# task :foo_task => [:environment] do
desc "Runs a Pry console"
task :console do
  ActiveRecord::Base.logger = Logger.new(STDOUT)
  
  # Open a Pry session
  Pry.start
end
task :scrape_jumia do
  require_relative './lib/jumia'
  require 'pry'
  jum = JumiaScraper.new
  binding.pry
  jum.get_category_urls.each do |products|
    prod_details = ProductDetail.new()
    Product.create(product_id: products[1].to_s, product_name: products[1].to_s)
  end
end
task :scrape_kilimall do
  require_relative './lib/kilimall'
  require 'pry'
  jum = KilimallScraper.new

  jum.get_category_urls.each do |products|
    binding.pry
    prod_details = ProductDetail.new()
    Product.create(product_id: products[1].to_s, product_name: products[1].to_s)
  end
end